<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Leaflet Map</title>

  <!-- PureCSS -->
  <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css" 
          integrity="sha384-nn4HPE8lTHyVtfCBi5yW9d20FjT8BJwUXyWZT9InLYax14RDjBj46LmSztkmNP9w" 
          crossorigin="anonymous">

  <!-- PureCSS Responsive Grids -->
  <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/grids-responsive-min.css">

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css" />

  <!-- Styles -->
  <link rel="stylesheet" href="css/styles.css" />

  <style>
  #map-wrapper {
          height: 500px;
  }
  </style>

</head>

<body>

  <div id="map-wrapper""></div>

</body>

<footer>

  <!-- Leaflet -->
  <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet-src.js"></script>

  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.2.1.min.js" type="text/javascript"></script>

  <!-- Underscore -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore.js"></script>

  <!-- Backbone -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.3.3/backbone.js"></script>


  <!-- Control Panel Template -->
  <script type="text/template" id="control-panel-template">
    <div class="control-panel">
      <div class="pure-menu pure-menu-horizontal" id="control-panel-menu">
        <div class="pure-menu-list" id="control-panel-tab-list">
          <% data.tabs.forEach( tabModel => { %>
            <li id="<%- tabModel.get('id') %>" class="pure-menu-item control-panel-tab-select <%
                  if (tabModel.active) {
                    %>pure-menu-selected<%
                  } %>"
            >
              <a href="#" class="pure-menu-link"><%- tabModel.get("label") %></a>
            </li>
          <% }) %>
        </div>
      </div>
      <div id="control-panel-module-wrapper"></div>
    </div>
  </script>


  <!-- Layer Control Template -->
  <script type="text/template" id="layer-control-template">
    <div class="layer-control">
      <div class="pure-menu">
        
        <!-- Basemaps -->
        <span class="pure-menu-heading">Basemaps</span>
        <ul class="pure-menu-list" id="basemaps-menu-list">
          <% _.each(data.basemaps, function (basemap) { %>
            <li id="<%= basemap.id %>"
                class="pure-menu-item basemap-select <%
                  if (basemap.active) { 
                    %>pure-menu-selected<%
                  } %>"
            >
              <a href="#" class="pure-menu-link"><%- basemap.label %></a>
            </li>
          <% }) %>
        </ul>

        <!-- Ovelay Layers -->
        <span class="pure-menu-heading">Layers</span>
        <ul class="pure-menu-list" id="overlays-menu-list">
          <%  _.each(data.overlays, function (overlay) { %>
            <li id="<%= overlay.id %>"
                class="pure-menu-item overlay-select <%
                  if (overlay.active) {
                    %>pure-menu-selected<%
                  } %>"
            >
              <a href="#" class="pure-menu-link"><%- overlay.label %></a>
            </li>
          <% }) %>
        </ul>
      </div>
    </div>
  </script>


  <!-- Pin Control Template -->
  <script type="text/template" id="pin-control-template">
    <div class="pin-control">
      <div class="pure-menu">
        <!-- <span class="pure-menu-heading">Pins</span> -->
        <ul class="pure-menu-list" id="pin-list">
          <% data.models.forEach(function (pin) { %>
            <li id="<% pin.get('id') %>"
                class="pure-menu-item pin-control-select <%
                  if (pin.get('active')) {
                    %>pure-menu-selected<%
                  } %>"
            >
              <a href="#" class="pure-menu-link"><%- pin.get('label') %></a>
            </li>
          <% }) %>
        </ul>
      </div>
    </div>
  </script>


  <!-- webpack bundle -->
  <script src="bundle.js"></script>


</footer>
</html>